fn add(a: int, b: int) -> int {
    let result: int;
    asm {
        "mov {a}, {result}"
        "add {b}, {result}"
        : out(result)
        : in(a), in(b)
        : clobber("cc")
    }
    return result;
}

test "asm_clobber" {
    let res = add(10, 20);
    if (res != 30) {
        println "Failed: Expected 30, got {res}";
        exit(1);
    }
    println "Success: asm with clobber works properly";
}
